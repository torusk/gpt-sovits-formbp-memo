# 📂 外部音源（Desktop/voice/voice.wav）を使った学習・推論パーフェクトガイド

## 準備：パスの取得方法（Macユーザー必須テクニック）

ファイルやフォルダの場所（パス）を手入力するのは間違いの元です。

* **方法:** Finderで対象を右クリックし、**`⌥ (Option)` キーを押しっぱなしにする**と「"◯◯"のパス名をコピー」に変わります。これをWebUIに貼り付けます。

---

## ステップ1：【0-前処理】UVR5でノイズを除去する

デスクトップにある生の録音ファイルを綺麗にします。

1. **0a-UVR5タブ** を開く。
2. **入力オーディオパス:** `/Users/kazuki/Desktop/voice/voice.wav` を貼り付け。
3. **出力フォルダ:** デフォルトの `output/uvr5_opt` のままでOK。
4. **変換開始:** 実行。
* **結果:** `output/uvr5_opt/vocal_voice.wav_10.wav`（元の名前にタグが付いたもの）が生成されます。



---

## ステップ2：【1-GPT-SoVITS-TTS】学習データを作る

ここから「新しい実験」として定義します。

### 1A-学習集作成タブ

1. **実験名:** `voice_v1` など、前回の「xxx」とは**別の名前**を入力します。
* ※ここを変えることで、前回の学習データやモデルが上書きされるのを防げます。


2. **(1Aa) スライス:** * **入力パス:** `/Users/kazuki/Desktop/GPT-SoVITS/output/uvr5_opt`（先ほどの出力先を指定）。
3. **(1Ab) 特徴抽出:** そのまま実行。
4. **(1Ac) ASR（文字起こし）:**
* **入力パス:** `output/slicer_opt`（1Aaで切り分けられた断片が入る場所）。
* **結果:** `output/asr_opt/voice_v1.list` というファイルが作られます。



---

## ステップ3：【1B-微調整】AIをトレーニングする

1. **SoVITSトレーニング:** そのまま開始。
* **保存先:** `SoVITS_weights_v2Pro/voice_v1_e8_sXXX.pth`


2. **GPTトレーニング:** そのまま開始。
* **保存先:** `GPT_weights_v2Pro/voice_v1-e15.ckpt`



---

## ステップ4：【1C-推論】新しい声で喋らせる

1. **モデルのロード:**
* 「モデルのパスを更新」を押し、リストから `voice_v1` という名前が含まれるものを選びます。


2. **推論WebUI起動:** 起動した後の画面（9872）での設定が重要です。
3. **リファレンス（参照）音源:** * ここには、**デスクトップにある元の `voice.wav` ではなく、学習に使った短い断片**を指定するのが最も精度が高いです。
* **パスの例:** `output/slicer_opt/voice_v1/voice_wav_0001.wav` など。



---

## 🧐 ファイル名やパスはどう変わる？（まとめ表）

今回の例：`/Users/kazuki/Desktop/voice/voice.wav` を使った場合

| 工程 | 入力するパス | 生成されるファイル（例） |
| --- | --- | --- |
| **UVR5** | `/Users/kazuki/Desktop/voice/voice.wav` | `output/uvr5_opt/vocal_voice.wav...` |
| **スライス** | `output/uvr5_opt` | `output/slicer_opt/voice_v1/`（フォルダ） |
| **ASR** | `output/slicer_opt/voice_v1` | `output/asr_opt/voice_v1.list` |
| **学習** | (実験名 `voice_v1` を指定) | `GPT_weights_v2Pro/voice_v1-e15.ckpt` |

---

## 💡 Kazukiさんへのアドバイス

1. **実験名（Experiment Name）の管理:** 新しい音声を使うときは、必ず「実験名」を新しくしてください。これをしないと、`output/asr_opt/` の中身が上書きされたり混ざったりして、AIが「前回の声」と「今回の声」を同時に学習しようとして混乱します。
2. **デスクトップのファイル:** デスクトップにある `voice.wav` は、最初の「UVR5（ノイズ除去）」で読み込む時だけ使います。それ以降の工程（スライスやASR）では、プロジェクト内の `output` フォルダに生成された「綺麗な声」を使い続けるのが正解です。
3. **掃除コマンド（必要に応じて）:**
新しい実験を始める前に `output` 内の過去のファイルを消したくなるかもしれませんが、**実験名さえ変えていればフォルダが分かれるので、消さなくても大丈夫**です。

これで、どんな場所に置いてある音声ファイルからでも、迷わず自分専用のAIボイスを量産できるようになります！次は「ポッドキャストのBGMあり音源」から声だけ抜き出す、なんてことも可能ですよ。